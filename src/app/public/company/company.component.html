<section class="is-article-block">
    <div class="container">
        <div class="article-full-img">
            <img *ngIf="company" [src]='company?.cover?.url' [alt]='company?.cover?.alt'/>
        </div>
        <div class="is-article-sec">
            <div class="is-left-profile">
                <div class="sticky-box">
                    <div class="is-profile">
                        <a>
                            <img class="avatar" src="assets/images/company/company-logo.png" alt="company logo"/>
                        </a>
                    </div>
                    <div class="share-sec text-center">
                        <div class="addthis_inline_share_toolbox"></div>
                    </div>
                </div>

                <div *ngIf="companyId" class="company-followers-div">
                    <app-company-followers [companyId]="companyId"></app-company-followers>
                </div>
            </div>
            <div class="is-main-article-content">
                <div class="company-img">
                    <img *ngIf="company" [src]='company?.logo?.url' [alt]='company?.logo?.alt' 
                    onerror="this.src='assets/images/default-avatar.png'"
                    />
                    <div class="special-icon" *ngIf="company">
                        <img src="assets/images/company-icon.png" style="max-width:28px;" />
                    </div>
                </div>
                <div class="is-content">
                    <div class="is-head">
                        <div class="company-name">
                            <h1>
                                <a [ngStyle]="{'color': company?.color_code}">
                                    {{ company?.name }}
                                </a>
                            </h1>
                        </div>
                        <div class="media-section">
                            <div class="follow-btn" *ngIf="!isFollowing" (click)="follow()">
                                <a nz-button [nzLoading]="isUpdatingFollow"><img src="assets/images/company/follow-icon.png" alt="company img">{{ "followCompany" | translate }}</a>
                            </div>
                            <div class="follow-btn" *ngIf="isFollowing" (click)="unfollow()">
                                <a nz-button [nzLoading]="isUpdatingFollow"><img src="assets/images/company/follow-icon.png" alt="company img">{{ "unfollowCompany" | translate }}</a>
                            </div>
                            <div class="login-popup"  *ngIf="!isLoggedInUser">
                                <nz-modal
                                    [(nzVisible)]="isVisible"
                                    nzTitle="My Trending Stories"
                                    (nzOnCancel)="handleCancel()"
                                    (nzOnOk)="handleOk()"
                                    [nzOkLoading]="isOkLoading"
                                    >
                                    <div class="popup-content">
                                        <div>
                                            <a [routerLink]="['/']" class="bg-logo">
                                                <img src="assets/images/logo/logo-circle.png" alt="My Trending Stories">
                                            </a>
                                        </div>
                                        <p class="text-black">{{'Please' | translate}}, <a routerLink="/auth/login">{{'logInTitle' | translate}}</a> {{'or' | translate}} <a routerLink="/auth/signup">{{'signUp' | translate}}</a> {{'toContinue' | translate}}.</p>
                                       
                                    </div>
                                    </nz-modal>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="is-body">
                        <div class="is-paragraph">
                            <p class="big">{{ company?.bio }}</p>
                            <br>
                            <p innerHTML={{company?.presentation}}></p>
                        </div>
                    </div>
                </div>

            </div>
            <div class="is-right-ad-section">
                <app-company-lead-form *ngIf="companyId" [companyId]="companyId"></app-company-lead-form>
            </div>
        </div>

    </div>

</section>