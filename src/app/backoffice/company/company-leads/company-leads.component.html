<div class="container">
    <div class="row">
        <div *ngIf="!selectedMonthData" class="col-md-12">
            <nz-card>
                <nz-skeleton [nzActive]="true" *ngIf="!displayData"> </nz-skeleton>

                <nz-table #leadsTable [nzData]="displayData" *ngIf="displayData" [nzLoading]="isLoading">

                    <thead>
                        <tr>
                            <th *ngFor="let column of orderColumn" [nzSortFn]="column.compare" [nzAlign]='column.align'>{{ column.title | translate }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of leadsTable.data;  let i=index">
                            <td nzAlign='center'>{{item.month | date:'MMMM, yyyy'}} </td>
                            <td nzAlign='center' class="green">{{item.total_leads_count | number:'1.0-0'}} </td>
                            <td nzAlign='center' class="red">{{item.leads_count_over_limit | number:'1.0-0'}}</td>
                            <td nzAlign='center'>
                                <button nz-button nzType="default" nzShape="circle" nz-tooltip nzTooltipTitle="View"
                                    (click)="viewLeadsByMonth(item)">
                                    <i nz-icon nzType="eye" nzTheme="outline"></i>
                                </button>
                                <button class="m-l-5" nz-button nzType="default" nzShape="circle" nz-tooltip nzTooltipTitle="Upgrade Plan"
                                    (click)="upgradePlan(item)">
                                    <i nz-icon nzType="up-square" nzTheme="outline"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </nz-card>
        </div>
        <div *ngIf="selectedMonthData" class="col-md-12">
            <button nz-button nzType="primary" (click)="goBack()">Go Back</button>

            <app-monthly-leads [companyId]="companyId" [monthData]="selectedMonthData"></app-monthly-leads>
        </div>
    </div>
</div>